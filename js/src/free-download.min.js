const getParameterByName=(a,c=window.location.href)=>{a=a.replace(/[\[\]]/g,'\\$&');var d=new RegExp('[?&]'+a+'(=([^&#]*)|&|#|$)'),b=d.exec(c);return b?b[2]?decodeURIComponent(b[2].replace(/\+/g,' ')):'':null},downloadURI=b=>{const a=document.createElement('a');a.href=b,document.body.appendChild(a),a.click(),document.body.removeChild(a),delete a},countDown=(b,a,c)=>{const d=setInterval(()=>{b.innerHTML=a,a--||clearInterval(d)},1e3);setTimeout(()=>{downloadURI(c)},a*1e3)},counterElement=document.getElementById('counter'),messageElement=document.getElementById('message'),bannerElement=document.getElementsByClassName('banner-dark-hex')[0],download=()=>{const b=getParameterByName('e'),c=getParameterByName('h'),a=new XMLHttpRequest;a.open('POST','https://api.coreui.io/free/download.php',!0),a.onreadystatechange=()=>{if(a.readyState===XMLHttpRequest.DONE){const b=a.status;if(b===0||b>=200&&b<400){const b=JSON.parse(a.responseText);b.status==='ok'?(bannerElement.style.opacity="1",countDown(counterElement,20,b.url)):(bannerElement.remove(),createAlert(messageElement,'danger',b.message))}else bannerElement.remove(),createAlert(messageElement,'danger','Something went wrong, please try one more time')}},a.send(JSON.stringify({email:b,hash:c}))};window.onload=()=>{download()};const createAlert=(a,c,d)=>{Array.from(a.getElementsByClassName('alert')).forEach(a=>a.remove());const b=document.createElement('div');b.classList.add('alert',`alert-${c}`),b.innerHTML=d,c==='success'&&(a.innerHTML=''),a.appendChild(b)}