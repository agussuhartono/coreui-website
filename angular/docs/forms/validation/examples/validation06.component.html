<c-row>
  <c-col md="6" >
    <form cForm [formGroup]="simpleForm" novalidate (ngSubmit)="onSubmit()" class="needs-validation">
      <c-row class="mb-1">
        <label cCol [sm]="4" cLabel="col" for="firstName">First name</label>
        <c-col [sm]="8">
          <input cFormControl
                id="firstName"
                formControlName="firstName"
                placeholder="First name"
                autocomplete="none"
                required
                [autofocus]="true"
                [ngClass]="{ 'is-invalid': (submitted || f['firstName'].touched) && f['firstName'].invalid, 'is-valid': f['lastName'].touched && f['firstName'].valid  }" />
          <div *ngIf="submitted && f['firstName'].invalid" class="invalid-feedback">
            <div *ngIf="f['firstName'].errors.required">First Name is required</div>
          </div>
        </c-col>
      </c-row>
      <c-row class="mb-1">
        <label cCol [sm]="4" cLabel="col" for="lastName">Last name</label>
        <c-col [sm]="8">
          <input cFormControl 
                id="lastName"
                formControlName="lastName"
                placeholder="Last name"
                autocomplete="none"
                required
                [ngClass]="{ 'is-invalid':  (submitted || f['lastName'].touched) && f['lastName'].invalid, 'is-valid': f['lastName'].touched && f['lastName'].valid }" />
          <div *ngIf="submitted && f['lastName'].invalid" class="invalid-feedback">
            <div *ngIf="f['lastName'].errors.required">Last Name is required</div>
          </div>
        </c-col>
      </c-row>
      <c-row class="mb-1">
        <label cCol [sm]="4" cLabel="col" for="username">Username</label>
        <c-col [sm]="8">
          <input cFormControl
                id="username"
                formControlName="username"
                placeholder="Username"
                autocomplete="none"
                required
                [ngClass]="{ 'is-invalid': (submitted || f['username'].touched) && f['username'].errors, 'is-valid': f['username'].touched && !f['username'].errors }" />
          <div *ngIf="submitted && f['username'].errors" class="invalid-feedback">
            <div *ngIf="f['username'].errors.required">Username is required</div>
            <div *ngIf="f['username'].errors.minlength">{{formErrors.username.minLength}}</div>
            <div *ngIf="f['username'].errors.pattern">{{formErrors.username.pattern}}</div>
          </div>
        </c-col>
      </c-row>
      <c-row class="mb-1">
        <label cCol [sm]="4" cLabel="col" for="email">Email</label>
        <c-col [sm]="8">
          <input cFormControl
                id="email"
                type="email"
                formControlName="email"
                placeholder="Email"
                autocomplete="email"
                required
                [ngClass]="{ 'is-invalid': (submitted || f['email'].touched) && f['email'].invalid, 'is-valid': f['email'].touched && f['email'].valid }" />
          <div *ngIf="submitted && f['email'].invalid" class="invalid-feedback">
            <div *ngIf="f['email'].errors.required">Email is required</div>
            <div *ngIf="f['email'].errors.email">{{formErrors.email.email}}</div>
          </div>
        </c-col>
      </c-row>
      <c-row class="mb-1">
        <label cCol [sm]="4" cLabel="col" for="password">Password</label>
        <c-col [sm]="8">
          <input cFormControl
                 id="password"
                 type="password"
                 formControlName="password"
                 placeholder="Password"
                 autocomplete="new-password"
                 required
                 [ngClass]="{ 'is-invalid': (submitted || f['password'].touched) && f['password'].invalid, 'is-valid': f['password'].touched && f['password'].valid }" />
          <div *ngIf="submitted && f['password'].invalid" class="invalid-feedback">
            <div *ngIf="f['password'].errors.required">Password is required</div>
            <div *ngIf="f['password'].errors.minlength">{{formErrors['password'].minLength}}</div>
            <div *ngIf="f['password'].errors.pattern">{{formErrors['password'].pattern}}</div>
          </div>
        </c-col>
      </c-row>
      <c-row class="mb-1">
        <label cCol [sm]="4" cLabel="col" for="confirmPassword">Confirm password</label>
        <c-col [sm]="8">
          <input cFormControl
                  id="confirmPassword"
                  type="password"
                  formControlName="confirmPassword"
                  placeholder="Confirm password"
                  autocomplete="off"
                  required
                  [ngClass]="{ 'is-invalid': submitted && simpleForm.errors, 'is-valid': f['confirmPassword'].touched && !simpleForm.errors }" />
            <div *ngIf="submitted && simpleForm.errors" class="invalid-feedback">
              <div *ngIf="simpleForm.errors['passwordMismatch']">{{formErrors['confirmPassword'].passwordMismatch}}</div>
            </div>
        </c-col>
      </c-row>
      <c-row class="mb-1">
        <c-col>
          <c-form-check>
            <input cFormCheckInput
                  type="checkbox"
                  id="accept"
                  formControlName="accept"
                  required
                  [ngClass]="{ 'is-invalid': submitted && f['accept'].invalid, 'is-valid': f['accept'].valid }" />
            <label cFormCheckLabel custom for="accept">I accept the terms of use</label>
            <c-form-feedback *ngIf="submitted && f['accept'].invalid" [valid]="false">
              <div *ngIf="f['accept'].errors.required">You have to accept our Terms and Conditions</div>
            </c-form-feedback>
          </c-form-check>
        </c-col>
      </c-row>
      <hr>
      <c-button-group>
        <button cButton color="primary" type="submit" [disabled]="simpleForm.pristine || simpleForm.invalid" [tabindex]="'0'">Submit</button>
        <button cButton color="success" [disabled]="simpleForm.valid" (click)="onValidate()" [tabindex]="'0'">Validate</button>
        <button cButton color="danger" type="reset" (click)="onReset()" [tabindex]="'0'">Reset</button>
      </c-button-group>
    </form>
  </c-col>
  <c-col md="6">
    <c-card class="bg-dark" [ngClass]="{ 'bg-info' : simpleForm.valid }">
      <c-card-body>
        <pre class="text-white">Value: <code>{{ simpleForm.value | json }}</code></pre>
        <ul>
          <li>
            Status: {{ simpleForm.status }}
          </li>
          <li>
            Errors: {{ simpleForm.errors | json }}
          </li>
          <li>
            Valid: {{ simpleForm.valid }}
          </li>
          <li>
            Pristine: {{ simpleForm.pristine }}
          </li>
        </ul>
      </c-card-body>
    </c-card>
   </c-col>
</c-row>
